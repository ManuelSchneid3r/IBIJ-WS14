%==============================================================================
%vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv

\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel} % neue deutsche Rechtschreibung 
\usepackage{babelbib}       % deutsches Literaturverzeichnis
\usepackage{verbatim}


% Background
\usepackage{tikz}
\usetikzlibrary{fadings}
\setbeamertemplate{background}{
\begin{tikzpicture}
\path (0,0) rectangle (\paperwidth,\paperheight);
\node[scope fading=west,inner sep=0pt,outer sep=0pt,anchor=north east] at(\paperwidth*1.3,\paperheight*0.83) {\includegraphics[height=\paperheight]{pics/uni}};
\end{tikzpicture}
}


%^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
%==============================================================================
%vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv

\usetheme{default}
\usecolortheme{seagull}
% Remove navigation
\beamertemplatenavigationsymbolsempty
% \setcounter{tocdepth}{2}
\usecaptiontemplate{
  \tiny
  \insertcaption
}


% Use bullet as item for lists
\setbeamertemplate{itemize items}{$\bullet$}

% %\setbeamertemplate{itemize subitem}{{\tiny $\spadesuit$}}
% %\setbeamertemplate{itemize subsubitem}{{\tiny $\heartsuit$}}
% \setbeamertemplate{footline}[frame number]
% \setbeamertemplate{sections/subsections in toc}[circle]{}

%^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
%==============================================================================




\title{Per-Circuit TCP-over-IPsec Transport\\for Anonymous Communication Overlay Networks}   
\author{Manuel Schneider}
\institute{Albert Ludwigs Universität - Institut für Informatik} 
\date{\today} 

%==============================================================================
%//////////////////////////////////////////////////////////////////////////////
%//////////////////////////////////////////////////////////////////////////////
%//////////////////////////////////////////////////////////////////////////////
\begin{document}%//////////////////////////////////////////////////////////////
%//////////////////////////////////////////////////////////////////////////////
%//////////////////////////////////////////////////////////////////////////////
%//////////////////////////////////////////////////////////////////////////////
%==============================================================================

\begin{frame}[plain]
  \titlepage
\end{frame}


\begin{frame}{Motivation}
gfsdfs
\end{frame}

%==============================================================================
%//////////////////////////////////////////////////////////////////////////////
\section{TOR}
%//////////////////////////////////////////////////////////////////////////////
%==============================================================================



\begin{frame}{Tor - Architektur/Terminologie}
Das Große und Ganze
Onion Routing, Cell, Circuit, Stream, Onion Router,- Proxy
\end{frame}



\begin{frame}{Cells - Das Tor Tranportmittel}
 
\begin{figure}
  \begin{columns}[c]
    \column{.5\textwidth}
      \includegraphics[width=\textwidth]{pics/cell}
    \column{.5\textwidth}
      \caption{Quelle: \cite{tor}}
  \end{columns}
\end{figure}
  
  \only<1>
  {
    \begin{block}{Control Cell}
      \begin{itemize}
	\item bla
	\item bla
	\item bla
	\item bla
      \end{itemize}
    \end{block} 
  }
  \only<2>
  {
    \begin{block}{Relay Cell}
      \begin{itemize}
	\item bla
	\item bla
	\item bla
	\item bla
      \end{itemize}
    \end{block} 
  }
\end{frame}

\begin{frame}{Onion Routing bzw Cell Relaying}
Zeigen wie OR bzw Cell Relayin funct
\end{frame}

\begin{frame}{Circuits - Die Tor Transportwege}
      \begin{itemize}
	\item Pfade im Netzwerk entlang welcher die Cells gesendet werden
	\item In der regel 3
	\item inkrementellen Ausbauen des Circuits / Source routed
	\item mit jedem Onion Router ein gemeinsamer Schlüssel
	\item jede Verbindung hat Circuit Identifier
      \end{itemize}
\end{frame}


\begin{frame}{Ciruit construction}
      \begin{itemize}
	\item Pfade im Netzwerk entlang welcher die Cells gesendet werden
	\item In der regel 3
	\item inkrementellen Ausbauen des Circuits / Source routed

      \end{itemize}

\end{frame}
 
 
\begin{frame}{Ciruit construction}
  \begin{figure}
  \centering{
    \includegraphics[width=0.4\textwidth]{pics/construction.pdf}
    \caption{Darstellung des Aufbaus und der Verwendung eines Circuits. Quelle: \cite{tor}}}
  \end{figure}
  \begin{itemize}
    \item Onion Proxy wählt anhand Exit Policies die Exit Node
    \item Create Control Cell an OR\,1
      \begin{itemize}
	\item Enthält Diffie-Hellman Handshake
	\item OR\,1 kennt nun den Schlüssel
	\item Circuit Identifier wurde von Alice festgelegt
      \end{itemize}
    \item Created Control Cell zurück (OP kennt nun den Schlüssel)
      \begin{itemize}
	\item Alice kennt nun den Schlüssel
      \end{itemize}
  \end{itemize}
\end{frame}


\begin{frame}{Cross Circuit Interference Problem.}
  \begin{figure}
    \includegraphics[width=0.8\textwidth]{pics/BufferPic.pdf}
    \caption{ Quelle: \cite{pctcp}}
  \end{figure} 
\end{frame}


\begin{frame}{Head On Line Blocking}
  \begin{figure}
    \includegraphics[width=0.7\textwidth]{pics/headonlinevanilla.pdf}
    \caption{Quelle: \cite{tcp-over-dtls}}
  \end{figure}
\end{frame}


%==============================================================================
%//////////////////////////////////////////////////////////////////////////////
\section{IPSec}
%//////////////////////////////////////////////////////////////////////////////
%==============================================================================

\begin{frame}{Internet Protocol Security (IPSec)}
  \begin{itemize}
    \item Arbeitet auf Vermittlungsschicht
    \item Stellt Schutzziele sicher
    \begin{itemize}
      \item Vertraulichkeit
      \item Authentizität
      \item Integrität
    \end{itemize}
    \item Umfasst Protkolle für eine gesicherte Kommunikation
    \begin{itemize}
      \item Authentication Header (AH)
      \item Encapsulating Security Payload (ESP)
    \end{itemize}
    \item Je zwei Betriebsmodi
    \begin{itemize}
      \item Transport Modus
      \item Tunnel Modus
    \end{itemize}
  \end{itemize}
\end{frame}


\begin{frame}{IPSec - Protokolle}
 \begin{block}{IP Authentication Header (AH)}
  \begin{itemize}
   \item Stellt Authentizität und Integrität der Daten sicher
   \item Authentifiziert Sender 
   \item Schützt gegen Replay-Angriffe
   \item Inkompatibel mit Network Adress Translation!
  \end{itemize}
 \end{block}
 \begin{block}{IP Encapsulating Security Payload (ESP)}
  \begin{itemize}
   \item Selbes Featureset wie AH
   \item Stellt zusätzlich Vertraulichkeit der Daten sicher
  \end{itemize}
 \end{block}
\end{frame}


\begin{frame}{IPSec - Betriebsmodi}
  \begin{figure}
    \includegraphics[width=0.7\textwidth]{pics/modes}
    \caption{Quelle: www.wikimedia.com}
  \end{figure} 
  \only<1>
  {
    \begin{block}{Transport Modus}
      \begin{itemize}
	\item IP Header bleibt unberührt, auch bei ESP
      \end{itemize}
    \end{block} 
  }
  \only<2>
  {
    \begin{block}{Tunnel Modus}
      \begin{itemize}
	\item Zusätzlicher IP Header 
      \end{itemize}
    \end{block} 
  }
\end{frame}

%==============================================================================
%//////////////////////////////////////////////////////////////////////////////
\section{PCTCP}
%//////////////////////////////////////////////////////////////////////////////
%==============================================================================


\begin{frame}{PCTCP Design}
  \begin{figure}
    \begin{center}
      \includegraphics[width=0.7\textwidth]{pics/PCTCP_design.pdf}
      \caption{Vergleich des Designs zwischen Standard-\textsc{Tor} und PCTCP.}
    \end{center}
  \end{figure} 
\end{frame}


\begin{frame}{IPSec in PCTCP}
  \begin{figure}[h]
  \centering{
    \includegraphics[width=0.7\textwidth]{pics/PCTCP_header.pdf}
    \caption{Vergleich der Inter Onion Router Pakete zwischen Standard-\textsc{Tor} und PCTCP.Grau schattierte Teile sind verschlüsselt. Quelle:\cite{pctcp}}}
  \end{figure} 
\end{frame}


\begin{frame}{PCTCP - Ciruit construction}
\end{frame}




%==============================================================================
%//////////////////////////////////////////////////////////////////////////////
\section{Diskussion}
%//////////////////////////////////////////////////////////////////////////////
%==============================================================================

\begin{frame}{Ease of deployment}
\end{frame}

\begin{frame}{Socket Exhaustion Attacks}
\end{frame}

\begin{frame}{Ausblick}
Kurz sagen, dass PCTCP beinahe genauso wenig taugt wie TCPoverDTLS und warum.
Vielleicht IMUX anreisen
\end{frame}



%===============================================================================
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%===============================================================================

\begin{frame}[plain]{Reference}
  \begin{center}
  Vielen Dank für die Aufmerksamkeit!
  \end{center}
  \tiny
  \bibliographystyle{plain}
  \bibliography{bibliography}
\end{frame}

\nocite{tor}
\nocite{tcp-over-dtls}
\nocite{pctcp}
\nocite{imux}
\nocite{tor_improvements}

%===============================================================================
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
\end{document}%/////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%///////////////////////////////////////////////////////////////////////////////
%==============================================/=================================
